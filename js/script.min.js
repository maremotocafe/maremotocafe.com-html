'use strict';jQuery(function($){const observer=lozad();observer.observe();$('.image-popup').magnificPopup({type:'image',removalDelay:160,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace('mfp-figure','mfp-figure mfp-with-anim');this.st.mainClass=this.st.el.attr('data-effect');}},closeOnContentClick:true,midClick:true,fixedContentPos:false,fixedBgPos:true});const containerEl=document.querySelector('.shuffle-wrapper');if(containerEl){let Shuffle=window.Shuffle;let myShuffle=new Shuffle(containerEl,{itemSelector:'.shuffle-item',buffer:1});const bars=document.querySelectorAll('.portfolio-filter:not(.menu-level-one)');function contains(bar,value){for(let i=0;i<bar.children.length;i++){if(bar.children[i].children[0].value===value){return true;}}
return false;}
function hideBar(bar){const bar_jq=$(bar);if(bar_jq.is(':hidden')){return}
for(let i=0;i<bar.children.length;i++){if(bar.children[i].classList.contains('active')){bar.children[i].classList.remove('active');bar.children[i].classList.checked=false;break;}}
bar.children[0].classList.add('active');bar.children[0].classList.checked=true;bar_jq.css('opacity',1);bar_jq.removeClass('d-flex');bar_jq.addClass('d-none');bar_jq.animate({opacity:0},400);}
function showBar(bar){const bar_jq=$(bar);if(!bar_jq.is(':hidden')){return}
bar_jq.css('opacity',0);bar_jq.removeClass('d-none');bar_jq.addClass('d-flex');bar_jq.animate({opacity:1},400);}
$('input[name="shuffle-filter"]').on('change',evt=>{const input=evt.currentTarget;const input_bar=input.parentNode.parentNode;if(!input.checked){return}
myShuffle.filter(input.value);bars.forEach((bar)=>{const bar_parent=bar.getAttribute('parent');if(bar===input_bar||contains(bar,input_bar.getAttribute('parent'))||bar_parent===input.value){showBar(bar);}else{hideBar(bar);}});});}
let html_body=$('html, body');$('nav a, .page-scroll').on('click',function(){if(location.pathname.replace(/^\//,'')===this.pathname.replace(/^\//,'')&&location.hostname===this.hostname){let target=$(this.hash);target=target.length?target:$('[name='+this.hash.slice(1)+']');if(target.length){html_body.animate({scrollTop:target.offset().top-50},1500,'easeInOutExpo');return false;}}});jQuery.extend(jQuery.easing,{easeInOutExpo:function(x,t,b,c,d){if(t===0){return b;}
if(t===d){return b+c;}
if((t/=d/2)<1){return c/2*Math.pow(2,10*(t-1))+b;}
return c/2*(-Math.pow(2,-10*--t)+2)+b;}});function counter(){let oTop;if($('.count').length!==0){oTop=$('.count').offset().top-window.innerHeight;}
if($(window).scrollTop()>oTop){$('.count').each(function(){let $this=$(this),countTo=$this.attr('data-count');$({countNum:$this.text()}).animate({countNum:countTo},{duration:1000,easing:'swing',step:function(){$this.text(Math.floor(this.countNum));},complete:function(){$this.text(this.countNum);}});});}}
$(window).on('scroll',function(){counter();});});